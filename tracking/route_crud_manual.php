<?php

$action = "create";
$url = "http://track.idealconectividade.com.br/api/add_route";
//$token = '$2y$10$GOszN9Sk8xXONE2iX9CHj.0N876QGlB9jP7LyvEPCEC9q7ZM5G7nm';
//$token = '$2y$10$e4BohIdMyomQ5Pi6fnQaEe6qKR13Cz3gj0/bNtDDgrbTgSJiclJ7C';
$token = '$2y$10$kAByy95yYcS./vm1rw5MqeVjvhHYdylitYTCVNdYMrn8iCCIbUd8W';
$lang = "en";
$query_string = [ 'user_api_hash' => $token];


$action = "create";
$url = "http://track.idealconectividade.com.br/api/add_route";
$post = [

    'user_api_hash' => '$2y$10$jOlCp0l4YyEZ.uJ1BVpl4O3HrobC6v.nK3LZRN0Tg8trSLZIfPYm2',
    'name' => '030 - INTERBAIRROS - IDA',
    'polyline' => '[{"lat":"-63.890815","lng":"-8.73426666666666"},{"lat":"-63.89125333333333","lng":"-8.735240000000006"},{"lat":"-63.89061","lng":"-8.738230000000007"},{"lat":"-63.889986666666665","lng":"-8.74113833333334"},{"lat":"-63.88917333333334","lng":"-8.744594999999997"},{"lat":"-63.888940000000005","lng":"-8.744751666666662"},{"lat":"-63.88894333333333","lng":"-8.744753333333332"},{"lat":"-63.886881666666675","lng":"-8.744294999999996"},{"lat":"-63.88270166666666","lng":"-8.74339"},{"lat":"-63.88119833333334","lng":"-8.741911666666661"},{"lat":"-63.881988333333325","lng":"-8.738254999999997"},{"lat":"-63.878926666666665","lng":"-8.737553333333334"},{"lat":"-63.87883","lng":"-8.73754166666666"},{"lat":"-63.87882166666667","lng":"-8.73754666666667"},{"lat":"-63.878785","lng":"-8.73753333333334"},{"lat":"-63.87871","lng":"-8.738888333333337"},{"lat":"-63.878656666666664","lng":"-8.741596666666661"},{"lat":"-63.878656666666664","lng":"-8.741596666666661"},{"lat":"-63.87860333333333","lng":"-8.742406666666662"},{"lat":"-63.877175","lng":"-8.741408333333327"},{"lat":"-63.87424833333333","lng":"-8.740221666666669"},{"lat":"-63.86977","lng":"-8.739443333333337"},{"lat":"-63.86740499999999","lng":"-8.740021666666674"},{"lat":"-63.86785833333333","lng":"-8.742298333333338"},{"lat":"-63.86734499999999","lng":"-8.744651666666671"},{"lat":"-63.86818166666667","lng":"-8.744855000000006"},{"lat":"-63.87042833333333","lng":"-8.745351666666663"},{"lat":"-63.872620000000005","lng":"-8.745831666666664"},{"lat":"-63.87612666666667","lng":"-8.74660166666666"},{"lat":"-63.87726333333333","lng":"-8.74688833333333"},{"lat":"-63.87725999999999","lng":"-8.746881666666665"},{"lat":"-63.87724333333334","lng":"-8.748273333333326"},{"lat":"-63.876323333333325","lng":"-8.752273333333338"},{"lat":"-63.87611333333333","lng":"-8.75318333333333"},{"lat":"-63.87594166666666","lng":"-8.753909999999996"},{"lat":"-63.875546666666665","lng":"-8.755780000000005"},{"lat":"-63.875546666666665","lng":"-8.75579833333333"},{"lat":"-63.87555166666666","lng":"-8.755801666666668"},{"lat":"-63.87555166666666","lng":"-8.75579666666666"},{"lat":"-63.87525833333334","lng":"-8.757160000000006"},{"lat":"-63.87493500000001","lng":"-8.758443333333329"},{"lat":"-63.874455000000005","lng":"-8.760756666666673"},{"lat":"-63.873335","lng":"-8.76245666666667"},{"lat":"-63.87157166666666","lng":"-8.762101666666664"},{"lat":"-63.86876166666666","lng":"-8.761493333333329"},{"lat":"-63.86663","lng":"-8.760996666666673"},{"lat":"-63.864628333333336","lng":"-8.760586666666661"},{"lat":"-63.861418333333326","lng":"-8.75988666666667"},{"lat":"-63.861045","lng":"-8.761149999999997"},{"lat":"-63.86054166666666","lng":"-8.763416666666672"},{"lat":"-63.860393333333334","lng":"-8.764101666666663"},{"lat":"-63.86038833333334","lng":"-8.764109999999997"},{"lat":"-63.86008333333333","lng":"-8.76547166666666"},{"lat":"-63.85977666666666","lng":"-8.767041666666668"},{"lat":"-63.85917833333333","lng":"-8.769690000000006"},{"lat":"-63.85917833333333","lng":"-8.769690000000006"},{"lat":"-63.858239999999995","lng":"-8.774024999999998"},{"lat":"-63.858239999999995","lng":"-8.774024999999998"},{"lat":"-63.857318333333325","lng":"-8.778238333333336"},{"lat":"-63.857318333333325","lng":"-8.778238333333336"},{"lat":"-63.85623833333334","lng":"-8.783080000000004"},{"lat":"-63.85623833333334","lng":"-8.783080000000004"},{"lat":"-63.85609833333333","lng":"-8.783921666666659"},{"lat":"-63.85631166666667","lng":"-8.782248333333337"},{"lat":"-63.85721166666667","lng":"-8.778086666666665"},{"lat":"-63.858138333333336","lng":"-8.773893333333339"},{"lat":"-63.85852333333334","lng":"-8.772074999999996"},{"lat":"-63.858896666666666","lng":"-8.770406666666668"},{"lat":"-63.85920833333333","lng":"-8.769011666666666"},{"lat":"-63.85959666666666","lng":"-8.767186666666673"},{"lat":"-63.85974833333333","lng":"-8.766721666666673"},{"lat":"-63.85976833333334","lng":"-8.766535000000006"},{"lat":"-63.86208333333334","lng":"-8.766904999999998"},{"lat":"-63.86451166666667","lng":"-8.767464999999993"},{"lat":"-63.86637833333332","lng":"-8.767858333333333"},{"lat":"-63.868493333333326","lng":"-8.768321666666663"},{"lat":"-63.869275","lng":"-8.76850833333333"},{"lat":"-63.87226333333333","lng":"-8.76921166666666"},{"lat":"-63.872655","lng":"-8.769338333333327"},{"lat":"-63.87209666666666","lng":"-8.772618333333336"},{"lat":"-63.87196833333334","lng":"-8.77492333333333"},{"lat":"-63.87021166666667","lng":"-8.775956666666662"},{"lat":"-63.87054","lng":"-8.777486666666665"},{"lat":"-63.87132666666666","lng":"-8.777769999999995"},{"lat":"-63.87132833333333","lng":"-8.777754999999994"},{"lat":"-63.872295","lng":"-8.778441666666671"},{"lat":"-63.87432833333334","lng":"-8.781901666666666"},{"lat":"-63.875175000000006","lng":"-8.783278333333328"},{"lat":"-63.875490000000006","lng":"-8.783864999999999"},{"lat":"-63.87546999999999","lng":"-8.78386333333333"},{"lat":"-63.87546666666667","lng":"-8.783854999999994"},{"lat":"-63.87610166666666","lng":"-8.784891666666665"},{"lat":"-63.876686666666664","lng":"-8.785864999999998"},{"lat":"-63.877604999999996","lng":"-8.78748666666667"},{"lat":"-63.87863000000001","lng":"-8.789191666666662"},{"lat":"-63.87969833333333","lng":"-8.79031"},{"lat":"-63.88184","lng":"-8.790783333333335"},{"lat":"-63.88359333333333","lng":"-8.791115000000007"},{"lat":"-63.886105","lng":"-8.791716666666662"},{"lat":"-63.886979999999994","lng":"-8.791880000000008"},{"lat":"-63.88859333333333","lng":"-8.792261666666672"},{"lat":"-63.890121666666666","lng":"-8.792573333333333"},{"lat":"-63.89120166666667","lng":"-8.792843333333334"},{"lat":"-63.892575","lng":"-8.793109999999993"},{"lat":"-63.894733333333335","lng":"-8.793591666666664"},{"lat":"-63.89476500000001","lng":"-8.79358833333334"},{"lat":"-63.89493833333333","lng":"-8.79363166666667"},{"lat":"-63.895316666666666","lng":"-8.792103333333337"},{"lat":"-63.895341666666674","lng":"-8.792086666666668"},{"lat":"-63.895518333333335","lng":"-8.79142"},{"lat":"-63.89586166666666","lng":"-8.789888333333328"},{"lat":"-63.89605666666667","lng":"-8.788976666666667"},{"lat":"-63.89642666666667","lng":"-8.78715166666666"},{"lat":"-63.896523333333334","lng":"-8.786906666666663"},{"lat":"-63.896611666666665","lng":"-8.786458333333334"},{"lat":"-63.89681833333334","lng":"-8.785406666666661"},{"lat":"-63.89659333333334","lng":"-8.784439999999995"},{"lat":"-63.89799500000001","lng":"-8.785438333333332"},{"lat":"-63.89843166666666","lng":"-8.785891666666673"},{"lat":"-63.90033833333334","lng":"-8.786705"},{"lat":"-63.90110833333333","lng":"-8.782491666666662"},{"lat":"-63.90167499999999","lng":"-8.779380000000007"},{"lat":"-63.90231833333334","lng":"-8.777448333333329"},{"lat":"-63.90326833333334","lng":"-8.778298333333336"},{"lat":"-63.90338666666666","lng":"-8.778405000000005"},{"lat":"-63.903815","lng":"-8.778781666666662"},{"lat":"-63.90410833333333","lng":"-8.779040000000002"},{"lat":"-63.90422333333333","lng":"-8.77830166666666"},{"lat":"-63.904431666666675","lng":"-8.776290000000001"},{"lat":"-63.90262166666666","lng":"-8.775876666666667"},{"lat":"-63.90059666666666","lng":"-8.775520000000006"},{"lat":"-63.899255","lng":"-8.775220000000006"},{"lat":"-63.899256666666666","lng":"-8.775220000000006"},{"lat":"-63.89923666666667","lng":"-8.775216666666665"},{"lat":"-63.89822666666667","lng":"-8.77501166666666"},{"lat":"-63.897883333333326","lng":"-8.77492833333334"},{"lat":"-63.89426","lng":"-8.774144999999999"},{"lat":"-63.893951666666666","lng":"-8.772636666666662"},{"lat":"-63.89550666666667","lng":"-8.772238333333341"},{"lat":"-63.89633666666667","lng":"-8.77244166666666"},{"lat":"-63.89795000000001","lng":"-8.772773333333332"},{"lat":"-63.8992","lng":"-8.773048333333326"},{"lat":"-63.90084166666667","lng":"-8.773373333333332"},{"lat":"-63.902231666666665","lng":"-8.773654999999993"},{"lat":"-63.90424500000001","lng":"-8.774063333333334"},{"lat":"-63.904790000000006","lng":"-8.773166666666672"},{"lat":"-63.90517333333334","lng":"-8.771294999999993"},{"lat":"-63.90569166666668","lng":"-8.768865000000005"},{"lat":"-63.90571666666666","lng":"-8.76875"},{"lat":"-63.90602833333334","lng":"-8.767306666666673"},{"lat":"-63.906196666666666","lng":"-8.76643166666666"}]',
    'color' => '#364de0',

];
$post1 = [

    'user_api_hash' => '$2y$10$kAByy95yYcS./vm1rw5MqeVjvhHYdylitYTCVNdYMrn8iCCIbUd8W',


];


/*echo $url;
print_r($post);
echo http_build_query($$query_string);
exit;*/

$curl = curl_init();

curl_setopt_array($curl, array(

  CURLOPT_URL => $url.'?'.http_build_query($post1),

  CURLOPT_RETURNTRANSFER => true,

  CURLOPT_ENCODING => "",

  CURLOPT_MAXREDIRS => 10,

  CURLOPT_TIMEOUT => 30,


  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,

  CURLOPT_CUSTOMREQUEST => "POST",
  CURLOPT_POST => 1,

  CURLOPT_POSTFIELDS => http_build_query($post),

  CURLOPT_HTTPHEADER => array(

    "cache-control: no-cache",

    "content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW",

    "postman-token: 3095a9ff-80ad-0fcc-37d7-e5f252912e80"

  ),

));



$response = curl_exec($curl);

$err = curl_error($curl);



curl_close($curl);



if ($err) {

  echo "cURL Error #:" . $err;

} else {
 //header("Content-type: application/json; charset=utf-8");
 print_r($response);
/*header("Content-type: application/json; charset=utf-8");
echo json_encode($response);*/

}